iptables -L -v -b
iptables -L -v -n
iptables -P OUTPUT DROP
ping wp.pl
ping localhost
ping 127.0.0.1
iptables -A INPUT -i lo -j ACCEPT 
iptables -A OUTPUT -o lo -j ACCEPT 
ping 127.0.0.1
ping localhost
vi /etc/hosts
iptables -A INPUT -p tcp --dport 22 -j ACCEPT 
iptables -L -v -n
iptables -A OUTPUT -m state --state RELATED,ESTABLISHED -j ACCEPT 
iptables -L -v -n
ping wp.pl
iptables -I OUTPUT 2 -p tcp --dport 53 -j ACCEPT 
iptables -I OUTPUT 2 -p udp --dport 53 -j ACCEPT 
ping wp.pl
iptables -A INPUT -p tcp --dport 53 -j ACCEPT 
iptables -A INPUT -p udp --dport 53 -j ACCEPT 
ping wp.pl
iptables -I INPUT 2 -m state --state RELATED,ESTABLISHED -j ACCEPT 
ping wp.pl
iptables -I INPUT 2 -p icmp -j ACCEPT 
iptables -I OUTPUT 2 -p icmp -j ACCEPT 
ping wp.pl
iptables -L -v -b
iptables -L -v -
iptables -L -v -n
iptables -I INPUT 4 -p tcp --dport 443 -j ACCEPT 
iptables -L -v -n
iptables-save > /etc/sysconfig/iptables
vi /etc/sysconfig/iptables
iptables-restore < /etc/sysconfig/iptables
iptables -L -v -n
iptables -A OUTPUT -p tcp --dport 80 -d 192.168.1.82 -j ACCEPT 
iptables -L -v -n
iptables-save > /etc/sysconfig/iptables
cat /etc/sysconfig/iptables
vi /etc/sysconfig/iptables
iptables-restore < /etc/sysconfig/iptables
iptables -L -v -n
systemctl stop iptables.service 
history 
history | awk '$1 > 25' | cut -c 8-
history | awk '$1 > 25' | cut -c 8- > day5-history.txt
ls -la day5-history.txt 
cat /etc/services | grep NFS -i
cat /etc/services | grep -i rpc
dnf isntall nfs-server
dnf install nfs-server
systemctl status nfs-server
dnf install nfs-utils
systemctl status nfs-server
systemctl start nfs-server
systemctl status nfs-server
mkdir -p /nfs-share/{Development,Production}
ls -la /nfs-share/
chgrp student /nfs-share/Development/
chgrp student /nfs-share/Production/
chmod 770 /nfs-share/Development/
chmod 740 /nfs-share/Production/
ls -la /nfs-share/
systemctl status rpcbind
vi /etc/nfs.conf 
vi /etc/exports
exportfs -rav 
id student
chmod 750 /nfs-share/Production/
ls -la /nfs-share/Development/
dnf install samba samba-client samba-common -y
systemctl status smb
systemctl start smb
systemctl status smb
groupadd devops 
useradd alicja
useradd linda
usermod -aG devops alicja 
mkdir /devops-dir 
chmod 2770 /devops-dir/
chgrp devops /devops-dir/
chown linda /devops-dir/
ls -la /devops-dir/
mkdir /devops-public 
chown student: /devops-public
ls -la /devops-public
vi /etc/samba/smb.conf
testparm 
systemctl restart smb
smbstatus
smbpasswd -a linda
smbpasswd -a alicja
smbpasswd -a student
systemctl restart smb
smbstatus
ls -la /devops-public/
ls -la /devops-dir
smbstatus
ls -la /devops-dir/
vi /etc/samba/smb.conf
smbstatus
ls -la /
ls -la /devops-dir/
ls -la 
ls -la /devops-dir/
mkdir /archiwumX
groupadd fbi -g 2000
useradd -g fbi mulder
useradd -g fbi scully
useradd -g fbi fbiuser
chgrp fbi /archiwumX/
chmod 2770 /archiwumX/
ls -al /ar
ls -al /archiwumX/
ci /etc/samba/smb.conf
vi /etc/samba/smb.conf
systemctl restart smb.service 
smbpasswd -a mulder
smbpasswd -a scully
smbpasswd -a fbiuser
sestatus
getenforce 
vi /etc/selinux/config 
history 
history | awk '$1 > 25' | cut -c 8- 
history | awk '$1 > 25' | cut -c 8- >> day5-history.txt 
ls -Z
ls -laZ
ls -laZ /tmp
ps -Zaux
id -Z
id -Z student
id student
id student -Z
su - student
dnf install setroubleshoot-server policycoreutils-python
dnf install setroubleshoot-server policycoreutils-python-devel
semanage port -l | grep ssh
vi /etc/ssh/sshd_config
systemctl restart sshd
systemctl status sshd
less /var/log/messages
sealert -l ab579ee8-900d-4215-b71d-af1ef6b439bd
semanage port -a -t ssh_port_t -p tcp 2222
semanage port -l | grep ssh
systemctl restart sshd
systemctl status sshd
journalctl -u setroubleshoot
journalctl
journalctl -u setroubleshoot
semanage port --help
semanage port -m -t ssh_port_t -p tcp 9999
semanage port -l | grep ssh
semanage port -d -t ssh_port_t -p 9999
semanage port -d -t ssh_port_t -p tcp 9999
semanage port -l | grep ssh
semanage port -l
semanage port -l | grep 8080
semanage fcontext -l
semanage fcontext -l |wc -l
getsebool
getsebool -a
getsebool -a | wc -l
getsebool -a | grep -i nfs
getsebool -a | grep -i virtualbox
semanage boolean -l
getsebool -a | grep -i http
setsebool --help
setsebool -P httpd_run_ipa=1
getsebool -a | grep -i http
cd /var/log/
less audit/
less audit/audit.log
journalctl -t setroubleshoot
journalctl --help
journalctl -t setroubleshoot
dnf group install "Basic Web Server"
vi /etc/httpd/conf/httpd.conf
mkdir /web/docs -p
ls -laZ /var/ww/html
ls -laZ /var/www/html
ls -laZ /web/docs/
vi /etc/hosts
vi /etc/httpd/conf.d/account.conf
mkdir /web/docs/account.lab.local
vi /web/docs/account.lab.local/index.html
systemctl start httpd
systemctl status http
systemctl status httpd
vi /etc/httpd/conf.d/ssl.conf
vi /etc/httpd/conf/httpd.conf
mv /etc/httpd/conf.d/ssl.conf /tmp/
systemctl restart httpd
systemctl status httpd
journalctl -t setroubleshoot
less /var/log/messages
sealert -l 080c0b1b-f143-44fc-8cad-a4880a4c5cb1
ls -lZ /var/www/html
ls -laZ /var/www/html
semanage fcontext -a -t httpd_sys_content_t "/web/docs/(/.*)?"
semanage fcontext -l | grep web
ls -laZ /web/docs
restorecon -Rv /web/docs
ls -laZ /web/docs
ls -laZ /web/docs/
restorecon -Rv /web/docs
getenforce
restorecon -Rv /web/docs
semanage fcontext -l | grep web
restorecon -Rv /web/docs
restorecon -Rv /var/www/html/
ls -la
ls -la /var/www/html/
touch /var/www/html/index.html
ls -la /var/www/html/
ls -la /var/www/html/ -Z
cd
cd /web/docs/
restorecon -R /web/docs/
ls -laZ /web/docs/
reboot
semanage fcontext -l | grep /web/doc
restorecon -Rv /web/docs
ls -laZ /web/docs/
chcon -R -t httpd_sys_content_t /web/docs/
ls -laZ /web/docs/
ls -laZ /web/docs/account.lab.local/index.html
dnf install mariadb-server
mkdir /mariadb
vi /etc/my.cnf.d/mariadb-server.cnf
ls -laZ /var/lib/mysql
ls -laZ /mariadb/
systemctl start mariadb.service
systemctl status mariadb.service
chown mysql: /mariadb/
systemctl start mariadb.service
systemctl status mariadb.service
getenforce
systemctl stop mariadb
setenforce 1
systemctl start mariadb.service
systemctl status mariadb.service
less /var/log/messages
sealert -l 09eb7538-12e8-40a8-b3c0-b7e89817be00
semanage fcontext -a -t mysqld_db_t "/mariadb(/.*)?"
restorecon -Rv /mariadb
systemctl start mariadb
systemctl status mariadb
vi /etc/selinux/config
semanage fcontext -l | grep /mariadb
systemctl status cockpit.socket
systemctl start cockpit.socket
systemctl status cockpit.socket
passwd
systemctl restart cockpit
vi /etc/hosts
ping lab.local

